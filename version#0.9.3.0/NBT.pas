unit NBT;

interface

uses types_mct;

function nbtcompress(xpos,zpos:integer; terrain_populated:boolean; chunk:TGen_chunk; rez:pbyte_ar):integer;
function nbtcompress_level(sett:TGen_settings; rez:pbyte_ar):integer;

implementation

uses sysutils, windows;

function SpanOfNowAndThen(const ANow, AThen: TDateTime): TDateTime;
begin
  if ANow < AThen then
    Result := AThen - ANow
  else
    Result := ANow - AThen;
end;

function MilliSecondSpan(const ANow, AThen: TDateTime): Double;
begin
  Result := MSecsPerDay * SpanOfNowAndThen(ANow, AThen);
end;

function MilliSecondsBetween(const ANow, AThen: TDateTime): Int64;
begin
  Result := Trunc(MilliSecondSpan(ANow, AThen));
end;

var section:array[0..10301]of byte = (
7,0,4,68,97,116,97, //byte array Data
0,0,8,0,  //2048 shtuk
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,      //nachalo=11
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,
7,0,8,83,107,121,76,105,103,104,116, //byte array SkyLight  nachalo=2059
0,0,8,0,  //2048 shtuk     nachalo=2070
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,  //nachalo=2074
0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,
7,0,10,66,108,111,99,107,76,105,103,104,116,  //byte array BlockLight nachalo=4122
0,0,8,0,  //2048 shtuk   nachalo=4135
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,   //nachalo=4139
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,
1,0,1,89,0,  //byte Y=0    nachalo=6187
7,0,6,66,108,111,99,107,115,  //byte array Blocks  nchalo=6192
0,0,16,0,  //4096 shtuk  nchalo=6201
7,7,7,7,7,7,7,7,7,7,    //nachalo=6205
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,1,7,1,7,1,7,1,1,7,1,7,1,1,7,7,7,7,7,7,7,7,
7,7,7,7,7,1,7,7,7,7,7,7,7,7,7,7,7,1,1,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,1,7,1,7,7,7,7,7,7,7,7,1,7,7,7,1,7,7,1,7,7,7,7,7,7,7,1,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,3,7,7,7,7,7,7,7,7,7,7,7,1,7,
7,7,7,3,7,1,1,7,7,7,1,7,7,7,7,7,3,7,7,7,7,7,7,1,7,7,7,1,7,7,
7,7,7,3,7,3,7,7,7,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,1,7,7,3,3,7,7,1,7,1,7,7,7,1,1,7,7,7,7,7,7,1,1,7,7,7,7,
7,7,7,1,7,7,7,7,7,7,7,7,1,7,7,7,7,7,7,1,1,7,7,7,7,7,7,7,7,7,
7,1,7,1,7,7,1,1,1,7,3,7,7,7,7,7,7,7,1,7,1,7,7,1,7,1,7,1,1,7,
1,7,7,1,7,1,7,1,7,7,7,1,7,1,7,7,7,7,7,7,7,1,1,7,7,1,1,7,7,1,
1,1,7,1,1,7,1,7,7,1,7,1,7,7,1,7,1,7,1,1,7,7,7,7,1,1,7,1,7,7,
7,1,1,1,1,1,7,1,1,7,7,1,1,7,1,7,7,1,1,1,7,1,1,7,7,1,1,7,7,7,
7,1,1,7,7,7,1,1,7,7,1,1,7,1,1,1,1,7,3,1,7,1,7,1,7,7,1,7,7,7,
7,7,1,3,3,7,7,7,1,7,7,7,7,7,1,7,7,1,7,7,3,3,1,7,7,1,1,7,7,1,
7,1,7,1,7,7,7,3,7,1,1,7,1,7,7,1,7,7,7,7,3,3,7,3,1,7,7,7,7,7,
1,1,1,7,7,1,7,7,3,7,7,7,7,7,7,1,1,7,7,7,1,1,7,7,3,7,1,7,7,1,
7,7,1,7,1,1,7,7,7,7,3,7,1,7,1,7,1,1,1,7,7,7,7,7,1,7,1,7,1,7,
7,1,7,1,1,7,7,1,7,7,1,7,1,7,1,1,1,1,1,1,7,1,1,1,3,1,1,7,1,1,
7,1,1,1,1,1,7,1,7,7,3,7,7,1,7,7,7,1,7,7,1,1,7,1,7,7,7,1,1,7,
1,7,7,7,1,1,1,7,7,1,7,1,7,1,7,7,1,1,1,1,1,1,1,1,7,1,7,1,7,7,
1,7,7,7,7,1,1,1,7,1,1,1,1,1,7,1,7,1,1,1,7,1,7,7,7,7,1,7,1,7,
1,1,7,1,1,7,1,7,1,1,7,7,1,7,1,7,7,7,7,1,1,7,1,7,1,7,7,1,1,1,
7,1,7,7,7,1,1,1,7,1,1,1,7,1,1,7,1,1,1,7,7,1,7,1,1,1,7,1,1,1,
1,1,1,7,7,1,1,1,1,1,1,1,1,7,1,7,7,1,1,1,3,3,7,1,1,1,1,7,7,1,
1,1,7,1,1,1,3,3,1,7,7,7,1,1,1,7,1,7,1,1,7,1,3,3,7,1,7,7,1,1,
1,1,1,1,1,1,1,1,7,3,3,1,7,73,1,7,1,7,1,7,7,1,1,1,7,1,1,1,1,1,
1,1,1,1,1,1,1,7,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,1,7,1,1,7,1,1,
7,1,1,1,7,7,7,1,1,1,1,1,1,1,1,1,7,1,1,1,7,1,1,1,1,1,1,1,1,7,
1,1,1,1,1,1,1,7,1,1,7,7,1,1,1,1,1,1,1,1,1,7,1,1,1,1,1,73,7,1,
7,1,1,7,1,1,1,7,1,7,1,7,1,1,1,7,1,1,1,7,1,1,7,1,1,1,1,7,1,1,
1,1,1,7,7,7,1,7,1,1,7,1,1,1,1,1,7,1,7,1,1,1,7,1,1,7,1,1,1,1,
1,1,1,1,3,7,1,1,1,1,1,1,1,7,1,1,7,1,1,1,3,7,1,1,1,1,1,1,1,7,
7,1,1,1,1,1,7,7,3,1,1,1,1,1,7,1,1,1,1,1,7,1,3,7,7,7,1,1,7,1,
1,1,1,1,1,7,7,1,3,3,3,3,1,1,1,1,7,1,1,1,7,7,1,1,3,3,3,3,7,73,
1,7,1,1,1,1,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,73,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,
1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,1,1,
1,1,1,1,1,1,1,1,1,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,15,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,15,1,1,1,
1,1,15,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,15,15,
3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,15,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,15,15,1,1,1,1,1,15,15,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,16,16,1,1,1,1,1,1,1,1,1,
15,15,1,1,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,73,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,1,1,1,1,1,1,1,1,
1,1,1,1,1,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,1,1,1,1,1,1,1,
1,1,1,1,1,1,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,73,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,73,73,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,1,1,1,
1,1,1,1,1,1,1,73,1,1,16,16,16,16,1,1,1,1,1,1,1,1,1,1,73,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,56,56,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,56,1,1,1,1,
1,1,1,1,1,1,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,1,1,73,1,
1,1,1,15,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,21,1,1,1,
1,1,1,1,1,1,1,1,1,16,16,16,16,1,1,1,1,1,1,1,1,1,1,1,1,1,16,16,16,16,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,56,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,56,56,1,1,1,1,
1,1,1,1,3,3,3,1,1,1,1,56,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,
1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,73,1,1,1,15,1,1,1,1,1,1,1,1,1,1,
73,73,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,21,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,21,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,16,1,1,1,1,1,1,1,1,1,1,1,56,1,1,3,3,3,1,1,1,1,1,1,1,
1,1,1,1,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,1,1,1,1,1,
1,1,1,1,1,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,
1,1,1,1,1,1,1,1,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,73,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,1,1,1,1,1,
1,1,1,1,1,1,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,1,1,1,1,
1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,
1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,
1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,15,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,15,15,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,
0  //konec pervogo elementa lista   nachalo=10301
);

level_section:array[0..1407]of byte = (
9,0,8,69,110,116,105,116,105,101,115,  //list Entities  nachalo=0
1,0,0,0,0,  //type=byte, count=0   nachalo=11
7,0,6,66,105,111,109,101,115,  //byte array biomes   nachalo=16
0,0,1,0,   //count=256   nachalo=25
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,  //nachalo=29
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
4,0,10,76,97,115,116,85,112,100,97,116,101,  //Long LastUpdated  nachalo=285
0,0,0,0,0,0,23,191,    //nachalo=298
3,0,4,120,80,111,115,  //int xPos  nachalo=306
0,0,0,0,  //nachalo=313
3,0,4,122,80,111,115,  //int zPos   nachalo=317
0,0,0,0,    //nachalo=324
9,0,12,84,105,108,101,69,110,116,105,116,105,101,115,  //List TileEntities  nachalo=328
1,0,0,0,0,  //type=byte, count=0     nachalo=343
1,0,16,84,101,114,114,97,105,110,80,111,112,117,108,97,116,101,100,  //byte TerrainPopulated  nachalo=348
1,       //nachalo=367
11,0,9,72,101,105,103,104,116,77,97,112,  //int array HeightMap  //nachalo=368
0,0,1,0,  //256 shtuk    //nachalo=380
0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,78,0,0,0,82,0,  //nachalo=384
0,0,82,0,0,0,82,0,0,0,79,0,0,0,79,0,0,0,76,0,0,0,76,0,0,0,80,0,0,0,
80,0,0,0,80,0,0,0,76,0,0,0,88,0,0,0,88,0,0,0,88,0,0,0,87,0,0,0,87,0,
0,0,82,0,0,0,85,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,76,0,0,0,80,0,0,0,
80,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,88,0,0,0,89,0,0,0,88,0,0,0,88,0,
0,0,87,0,0,0,85,0,0,0,85,0,0,0,85,0,0,0,82,0,0,0,79,0,0,0,76,0,0,0,
80,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,89,0,0,0,90,0,0,0,89,0,
0,0,88,0,0,0,87,0,0,0,82,0,0,0,85,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,
76,0,0,0,80,0,0,0,80,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,88,0,0,0,89,0,
0,0,88,0,0,0,88,0,0,0,87,0,0,0,82,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,
79,0,0,0,76,0,0,0,76,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,88,0,
0,0,88,0,0,0,88,0,0,0,87,0,0,0,87,0,0,0,79,0,0,0,79,0,0,0,79,0,0,0,
79,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,0,0,76,0,0,0,76,0,0,0,76,0,
0,0,87,0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,82,0,0,0,82,0,0,0,77,0,0,0,
77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,0,0,76,0,
0,0,76,0,0,0,78,0,0,0,82,0,0,0,82,0,0,0,84,0,0,0,82,0,0,0,82,0,0,0,
78,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,
0,0,76,0,0,0,76,0,0,0,78,0,0,0,82,0,0,0,84,0,0,0,84,0,0,0,84,0,0,0,
82,0,0,0,78,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,77,0,
0,0,77,0,0,0,76,0,0,0,76,0,0,0,78,0,0,0,83,0,0,0,83,0,0,0,85,0,0,0,
84,0,0,0,82,0,0,0,80,0,0,0,80,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,
0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,83,0,0,0,83,0,0,0,
83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,83,0,0,0,83,0,0,0,86,0,0,0,83,0,
0,0,83,0,0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,83,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,78,0,0,0,80,0,0,0,83,0,0,0,86,0,0,0,87,0,
0,0,86,0,0,0,83,0,0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,83,0,
0,0,86,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,77,0,0,0,80,0,0,0,80,0,0,0,
81,0,0,0,81,0,0,0,81,0,0,0,83,0,0,0,85,0,0,0,85,0,0,0,83,0,0,0,83,0,
0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,
83,0,0,0,80,0,0,0,78,0,0,0,78,0,0,0,83,0,0,0,85,0,0,0,85,0,0,0,85,0,
0,0,83,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,77,0,0,0,80,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,78,0,0,0,78,0,0,0,83,0,0,0,85,0,0,0,85,0,
0,0,83,0,0,0,83,0,0,0,78,0,0,0,78,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,
80,0,0,0,83,0,0,0,86
);

sections_list:array[0..15]of byte = (
9,0,8,83,101,99,116,105,111,110,115,      //list Sections
10,0,0,0,0  //tag compound (6 shtuk)     nachalo=11
);

obsh_compound:array[0..10]of byte = (
10,0,0,  //tag_compound ""
10,0,5,76,101,118,101,108  //tag compound Level  nachalo=3
);

obsh_level:array[0..1407]of byte = (
7,0,6,66,105,111,109,101,115,  //byte array biomes    nachalo=0
0,0,1,0,  //count=256  nachalo=9
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,  //nachalo=13
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
5,5,5,5,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,5,5,5,5,5,
5,5,5,5,5,5,5,5,5,5,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
4,0,10,76,97,115,116,85,112,100,97,116,101,  //Long LastUpdated   nachalo=269
0,0,0,0,0,0,0,0,    //nachalo=282
3,0,4,120,80,111,115,  //int xPos   //nachalo=290
0,0,0,0,   //nachalo=297
3,0,4,122,80,111,115,  //int zPos    //nachalo=301
0,0,0,0,  //nachalo=308
1,0,16,84,101,114,114,97,105,110,80,111,112,117,108,97,116,101,100,  //byte TerrainPopulated  nachalo=312
1,  //nachalo=331
11,0,9,72,101,105,103,104,116,77,97,112,  //int array HeightMap   nachalo=332
0,0,1,0,  //256 shtuk  nachalo=344
0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,78,0,0,0,82,0,    //nachalo=348
0,0,82,0,0,0,82,0,0,0,79,0,0,0,79,0,0,0,76,0,0,0,76,0,0,0,80,0,0,0,
80,0,0,0,80,0,0,0,76,0,0,0,88,0,0,0,88,0,0,0,88,0,0,0,87,0,0,0,87,0,
0,0,82,0,0,0,85,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,76,0,0,0,80,0,0,0,
80,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,88,0,0,0,89,0,0,0,88,0,0,0,88,0,
0,0,87,0,0,0,85,0,0,0,85,0,0,0,85,0,0,0,82,0,0,0,79,0,0,0,76,0,0,0,
80,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,89,0,0,0,90,0,0,0,89,0,
0,0,88,0,0,0,87,0,0,0,82,0,0,0,85,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,
76,0,0,0,80,0,0,0,80,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,88,0,0,0,89,0,
0,0,88,0,0,0,88,0,0,0,87,0,0,0,82,0,0,0,82,0,0,0,82,0,0,0,79,0,0,0,
79,0,0,0,76,0,0,0,76,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,88,0,
0,0,88,0,0,0,88,0,0,0,87,0,0,0,87,0,0,0,79,0,0,0,79,0,0,0,79,0,0,0,
79,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,0,0,76,0,0,0,76,0,0,0,76,0,
0,0,87,0,0,0,87,0,0,0,87,0,0,0,87,0,0,0,82,0,0,0,82,0,0,0,77,0,0,0,
77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,0,0,76,0,
0,0,76,0,0,0,78,0,0,0,82,0,0,0,82,0,0,0,84,0,0,0,82,0,0,0,82,0,0,0,
78,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,76,0,0,0,76,0,
0,0,76,0,0,0,76,0,0,0,78,0,0,0,82,0,0,0,84,0,0,0,84,0,0,0,84,0,0,0,
82,0,0,0,78,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,77,0,
0,0,77,0,0,0,76,0,0,0,76,0,0,0,78,0,0,0,83,0,0,0,83,0,0,0,85,0,0,0,
84,0,0,0,82,0,0,0,80,0,0,0,80,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,
0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,83,0,0,0,83,0,0,0,
83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,83,0,0,0,83,0,0,0,86,0,0,0,83,0,
0,0,83,0,0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,83,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,78,0,0,0,80,0,0,0,83,0,0,0,86,0,0,0,87,0,
0,0,86,0,0,0,83,0,0,0,80,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,81,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,83,0,0,0,83,0,
0,0,86,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,77,0,0,0,80,0,0,0,80,0,0,0,
81,0,0,0,81,0,0,0,81,0,0,0,83,0,0,0,85,0,0,0,85,0,0,0,83,0,0,0,83,0,
0,0,83,0,0,0,83,0,0,0,83,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,
83,0,0,0,80,0,0,0,78,0,0,0,78,0,0,0,83,0,0,0,85,0,0,0,85,0,0,0,85,0,
0,0,83,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,80,0,0,0,77,0,0,0,80,0,0,0,
83,0,0,0,83,0,0,0,81,0,0,0,78,0,0,0,78,0,0,0,83,0,0,0,85,0,0,0,85,0,
0,0,83,0,0,0,83,0,0,0,78,0,0,0,78,0,0,0,77,0,0,0,77,0,0,0,77,0,0,0,
80,0,0,0,83,0,0,0,86,
9,0,8,69,110,116,105,116,105,101,115,  //list Entities   nachalo=1372
1,0,0,0,0,  //type=byte, count=0    nachalo=1383
9,0,12,84,105,108,101,69,110,116,105,116,105,101,115,  //List TileEntities   nachalo=1388
1,0,0,0,0  //type=byte, count=0   nachalo=1403
);

tile_entity_obsh:array[0..30] of byte = (
8,0,2,105,100,0,0,  //ID  length_nach=5-6
3,0,1,120,0,0,0,0,  //X   nach=11
3,0,1,121,0,0,0,0, //Y   nach=19
3,0,1,122,0,0,0,0   //Z   nach=27
);

items_list_data:array[0..12] of byte = (
9,0,5,73,116,101,109,115,10,0,0,0,0);   //List Items  count=9-12

slot_data:array[0..34] of byte = (
2,0,2,105,100,0,0,   //id   5-6
2,0,6,68,97,109,97,103,101,0,0,   //damage  16-17
1,0,5,67,111,117,110,116,0,   //count  26
1,0,4,83,108,111,116,0     //slot   34
);

spawner_tile_entity_data:array[0..22] of byte = (
2,0,5,68,101,108,97,121,0,0,   //delay   nach=8-9
8,0,8,69,110,116,105,116,121,73,100,0,0  //entityid   count 21-22
);

sign_text_data:array[0..9] of byte = (
8,0,5,84,101,120,116,49,0,0    //Text1  number=7  count=8-9
);

furnace_data:array[0..25] of byte = (
2,0,8,66,117,114,110,84,105,109,101,0,0,  //burntime  nach=11-12
2,0,8,67,111,111,107,84,105,109,101,0,0   //cooktime  nach=24-25
);

note_block_data:array[0..7] of byte = (
1,0,4,110,111,116,101,0   //note   nach=7
);

jukebox_data:array[0..12] of byte = (
3,0,6,82,101,99,111,114,100,0,0,0,0   //record   nach=9-12
);

brew_stand_data:array[0..12] of byte = (
2,0,8,66,114,101,119,84,105,109,101,0,0  //BrewTime  nach=11-12
);

function calc_entities_length(var ar:ar_entity_type):integer;
begin
  result:=0;
  if length(ar)=0 then exit;
end;

function calc_tentities_length(var ar:ar_tile_entity_type):integer;
var sum,i:integer;
begin
  result:=0;
  if length(ar)=0 then exit;

  sum:=length(ar);   //v konce kazhdogo entiti idet bayt 0

  for i:=0 to length(ar)-1 do
  begin
    inc(sum,length(ar[i].Id));
    if ar[i].Id='Furnace' then
    begin
      if length(pfurnace_tile_entity_data(ar[i].data)^.items)=0 then sum:=sum+70
      else sum:=sum+70+length(pfurnace_tile_entity_data(ar[i].data)^.items)*36;
    end
    else if ar[i].Id='Sign' then
      sum:=sum+71+length(psign_tile_entity_data(ar[i].data)^.text[1])+
        length(psign_tile_entity_data(ar[i].data)^.text[2])+
        length(psign_tile_entity_data(ar[i].data)^.text[3])+
        length(psign_tile_entity_data(ar[i].data)^.text[4])
    else if ar[i].Id='MobSpawner' then
      sum:=sum+54+length(pmon_spawn_tile_entity_data(ar[i].data)^.entityid)
    else if ar[i].Id='Chest' then
    begin
      if length(pchest_tile_entity_data(ar[i].data)^.items)=0 then sum:=sum+44
      else sum:=sum+44+length(pchest_tile_entity_data(ar[i].data)^.items)*36;
    end
    else if ar[i].Id='Music' then
      sum:=sum+39
    else if ar[i].Id='Trap' then
    begin
      if length(pdispenser_tile_entity_data(ar[i].data)^.items)=0 then sum:=sum+44
      else sum:=sum+44+length(pdispenser_tile_entity_data(ar[i].data)^.items)*36;
    end
    else if ar[i].Id='RecordPlayer' then
    begin
      if pjukebox_tile_entity_data(ar[i].data)^.rec=-1 then sum:=sum+31
      else sum:=sum+44;
    end
    else if ar[i].Id='EnchantTable' then
      sum:=sum+31
    else if ar[i].Id='Cauldron' then
    begin
      if length(pcauldron_tile_entity_data(ar[i].data)^.items)=0 then sum:=sum+57
      else sum:=sum+57+length(pcauldron_tile_entity_data(ar[i].data)^.items)*36;
    end
    else
    begin
      dec(sum,1+length(ar[i].Id));
      ar[i].Id:='Invalid tile entity';
    end;
  end;
  result:=sum;
end;

function nbtcompress(xpos,zpos:integer; terrain_populated:boolean; chunk:TGen_chunk; rez:pbyte_ar):integer;
var i,j,k,z,jj:integer;
len_e,len_te:integer;
temp_mas_e,temp_mas_te:byte_ar;
begin
  result:=-1;

  if (length(chunk.Biomes)<>256)or
  (length(chunk.Blocks)<>65536)or
  (length(chunk.Data)<>65536)or
  (length(chunk.Light)<>65536)or
  (length(chunk.Skylight)<>65536)or
  (length(chunk.Heightmap)<>256) then
    exit;

  i:=0;
  for j:=0 to 15 do
    if chunk.sections[j]=true then inc(i);

  setlength(rez^,(i)*10302+16+11);

  //perenosim obshiy tag_compound
  move(obsh_compound[0],rez^[0],11);

  //perenosim list sections
  move(sections_list[0],rez^[11],16);
  rez^[11+15]:=i;

  jj:=0;
  for j:=0 to 15 do
  if chunk.sections[j]=true then
  begin
    k:=j*2048;
    z:=jj*10302+16+11;
    //perenosim blok section
    move(section[0],rez^[z],10302);

    //perenosim blok data
    //move(chunk.data[k],rez^[z+11],2048);
    for i:=k to k+2047 do
      rez^[z+11+i-k]:=((chunk.data[i*2+1] and $F)shl 4) or (chunk.data[i*2] and $F);

    //perenosim blok skylight
    //move(chunk.skylight[k],rez^[z+2074],2048);
    for i:=k to k+2047 do
      rez^[z+2074+i-k]:=((chunk.skylight[i*2+1] and $F)shl 4) or (chunk.skylight[i*2] and $F);

    //perenosim blok blocklight
    //move(chunk.light[k],rez^[z+4139],2048);
    for i:=k to k+2047 do
      rez^[z+4139+i-k]:=((chunk.light[i*2+1] and $F)shl 4) or (chunk.light[i*2] and $F);

    //perenosim blok Blocks
    move(chunk.blocks[j*4096],rez^[z+6205],4096);

    //zapisivaem nomer sekcii
    rez^[z+6191]:=j;

    inc(jj);
  end;

  //dobavlaem obshie dannie chanka
  j:=length(rez^);
  setlength(rez^,j+1408);
  move(obsh_level[0],rez^[j],1408);

  //vstavlaem blok Biomes
  move(chunk.biomes[0],rez^[j+13],256);

  //xpos
  rez^[j+300]:=xpos and $FF;
  rez^[j+299]:=(xpos shr 8) and $FF;
  rez^[j+298]:=(xpos shr 16) and $FF;
  rez^[j+297]:=(xpos shr 24) and $FF;

  //zpos
  rez^[j+311]:=zpos and $FF;
  rez^[j+310]:=(zpos shr 8) and $FF;
  rez^[j+309]:=(zpos shr 16) and $FF;
  rez^[j+308]:=(zpos shr 24) and $FF;

  //terrain populated
  if terrain_populated=true then rez^[j+331]:=0;

  //vstavlaem heightmap
  //move(chunk.heightmap[0],rez^[j+348],256*4);
  for k:=0 to 255 do
  begin
    rez^[j+348+k*4+3]:=chunk.heightmap[k] and $FF;
    rez^[j+348+k*4+2]:=(chunk.heightmap[k] shr 8) and $FF;
    rez^[j+348+k*4+1]:=(chunk.heightmap[k] shr 16) and $FF;
    rez^[j+348+k*4]:=(chunk.heightmap[k] shr 24) and $FF;
  end;

  len_te:=calc_tentities_length(chunk.Tile_entities);
  len_e:=calc_entities_length(chunk.Entities);

  //formiruem massiv entities

  //formiruem massiv tile entities
  if len_te>0 then
  begin
    setlength(temp_mas_te,len_te);
    zeromemory(temp_mas_te,length(temp_mas_te));

    k:=0;
    for z:=0 to length(chunk.Tile_entities)-1 do
    begin
      if chunk.Tile_entities[z].Id='Invalid tile entity' then continue;

      //perenosim obshie parametri
      move(tile_entity_obsh[0],temp_mas_te[k],length(tile_entity_obsh));
      //zapolnaem obshie parametri
      //id
      j:=length(chunk.Tile_entities[z].Id);
      move(temp_mas_te[k+7],temp_mas_te[k+7+j],24);
      move(chunk.tile_entities[z].id[1],temp_mas_te[k+7],j);
      temp_mas_te[k+6]:=j;
      inc(k,j);
      //x
      temp_mas_te[k+11+3]:=chunk.tile_entities[z].x and $FF;
      temp_mas_te[k+11+2]:=(chunk.tile_entities[z].x shr 8) and $FF;
      temp_mas_te[k+11+1]:=(chunk.tile_entities[z].x shr 16) and $FF;
      temp_mas_te[k+11]:=(chunk.tile_entities[z].x shr 24) and $FF;
      //y
      temp_mas_te[k+19+3]:=chunk.tile_entities[z].y and $FF;
      temp_mas_te[k+19+2]:=(chunk.tile_entities[z].y shr 8) and $FF;
      temp_mas_te[k+19+1]:=(chunk.tile_entities[z].y shr 16) and $FF;
      temp_mas_te[k+19]:=(chunk.tile_entities[z].y shr 24) and $FF;
      //z
      temp_mas_te[k+27+3]:=chunk.tile_entities[z].z and $FF;
      temp_mas_te[k+27+2]:=(chunk.tile_entities[z].z shr 8) and $FF;
      temp_mas_te[k+27+1]:=(chunk.tile_entities[z].z shr 16) and $FF;
      temp_mas_te[k+27]:=(chunk.tile_entities[z].z shr 24) and $FF;
      inc(k,31);
      //perenosim osobie parametri
      if chunk.tile_entities[z].Id='Chest' then
      begin
        move(items_list_data[0],temp_mas_te[k],length(items_list_data));
        temp_mas_te[k+12]:=length(pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items);
        if temp_mas_te[k+12]=0 then temp_mas_te[k+8]:=1;
        inc(k,13);
        for j:=0 to length(pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items)-1 do
        begin
          //perenosim item slot
          move(slot_data[0],temp_mas_te[k],length(slot_data));
          //zapolnaem slot data
          temp_mas_te[k+6]:=pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id and $FF;
          temp_mas_te[k+5]:=(pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id shr 8) and $FF;
          temp_mas_te[k+17]:=pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage and $FF;
          temp_mas_te[k+16]:=(pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage shr 8) and $FF;
          temp_mas_te[k+26]:=pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].count;
          temp_mas_te[k+34]:=pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].slot;
          inc(k,36);
        end;
        //if length(pchest_tile_entity_data(chunk.Tile_entities[z].data)^.items)=0 then inc(k,1);
      end
      else if chunk.tile_entities[z].Id='MobSpawner' then
      begin
        //perenosim dannie spawnera
        move(spawner_tile_entity_data[0],temp_mas_te[k],length(spawner_tile_entity_data));
        //zapolnaem dannie
        temp_mas_te[k+9]:=pmon_spawn_tile_entity_data(chunk.Tile_entities[z].data)^.delay and $FF;
        temp_mas_te[k+8]:=(pmon_spawn_tile_entity_data(chunk.Tile_entities[z].data)^.delay shr 8) and $FF;
        j:=length(pmon_spawn_tile_entity_data(chunk.Tile_entities[z].data)^.entityid);
        temp_mas_te[k+22]:=j;
        //perenosim stroku
        inc(k,length(spawner_tile_entity_data));
        move(pmon_spawn_tile_entity_data(chunk.Tile_entities[z].data)^.entityid[1],temp_mas_te[k],j);
        inc(k,j);
      end
      else if chunk.tile_entities[z].Id='Sign' then
      begin
        //perenosim teksti
        for j:=0 to 3 do
        begin
          //perenosim obshuyu zapis' teksta
          move(sign_text_data[0],temp_mas_te[k],length(sign_text_data));
          //izmenaem nomer teksta
          temp_mas_te[k+7]:=49+j;
          //perenosim stroku
          jj:=length(psign_tile_entity_data(chunk.Tile_entities[z].data)^.text[j+1]);
          temp_mas_te[k+9]:=jj;
          inc(k,10);
          move(psign_tile_entity_data(chunk.Tile_entities[z].data)^.text[j+1][1],temp_mas_te[k],jj);
          inc(k,jj);
        end;
      end
      else if chunk.tile_entities[z].Id='Furnace' then
      begin
        //perenosim obshie dannie dla pechki
        move(furnace_data[0],temp_mas_te[k],length(furnace_data));
        //zapolnaem obshie dannie
        temp_mas_te[k+12]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.burn_time and $FF;
        temp_mas_te[k+11]:=(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.burn_time shr 8) and $FF;
        temp_mas_te[k+25]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.cook_time and $FF;
        temp_mas_te[k+24]:=(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.cook_time shr 8) and $FF;
        inc(k,26);
        //perenosim spisok slotov
        move(items_list_data[0],temp_mas_te[k],length(items_list_data));
        j:=length(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items);
        temp_mas_te[k+12]:=j;
        if j=0 then temp_mas_te[k+8]:=1;
        inc(k,13);
        for j:=0 to length(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items)-1 do
        begin
          //perenosim zapis' dla slota
          move(slot_data[0],temp_mas_te[k],length(slot_data));
          //zapolnaem slot data
          temp_mas_te[k+6]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id and $FF;
          temp_mas_te[k+5]:=(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id shr 8) and $FF;
          temp_mas_te[k+17]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage and $FF;
          temp_mas_te[k+16]:=(pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage shr 8) and $FF;
          temp_mas_te[k+26]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].count;
          temp_mas_te[k+34]:=pfurnace_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].slot;
          inc(k,36);
        end;
      end
      else if chunk.tile_entities[z].Id='Music' then
      begin
        //perenosim dannie dla note block
        move(note_block_data[0],temp_mas_te[k],length(note_block_data));
        //zapolnaem dannie
        temp_mas_te[k+7]:=pnote_tile_entity_data(chunk.Tile_entities[z].data)^.pitch;
        inc(k,8);
      end
      else if chunk.tile_entities[z].Id='Trap' then
      begin
        move(items_list_data[0],temp_mas_te[k],length(items_list_data));
        temp_mas_te[k+12]:=length(pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items);
        if temp_mas_te[k+12]=0 then temp_mas_te[k+8]:=1;
        inc(k,13);
        for j:=0 to length(pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items)-1 do
        begin
          //perenosim item slot
          move(slot_data[0],temp_mas_te[k],length(slot_data));
          //zapolnaem slot data
          temp_mas_te[k+6]:=pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id and $FF;
          temp_mas_te[k+5]:=(pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id shr 8) and $FF;
          temp_mas_te[k+17]:=pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage and $FF;
          temp_mas_te[k+16]:=(pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage shr 8) and $FF;
          temp_mas_te[k+26]:=pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].count;
          temp_mas_te[k+34]:=pdispenser_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].slot;
          inc(k,36);
        end;
      end
      else if chunk.tile_entities[z].Id='RecordPlayer' then
      begin
        //proveraem, nuzhno li sozdavat' dopolnitel'noe pole pod Item
        if (pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec<>-1)and
        (pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec<>0) then
        begin
          //peremezhaem dannie
          move(jukebox_data[0],temp_mas_te[k],length(jukebox_data));
          //zapolnaem pole
          temp_mas_te[k+12]:=pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec and $FF;
          temp_mas_te[k+11]:=(pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec shr 8) and $FF;
          temp_mas_te[k+10]:=(pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec shr 16) and $FF;
          temp_mas_te[k+9]:=(pjukebox_tile_entity_data(chunk.Tile_entities[z].data)^.rec shr 24) and $FF;
          inc(k,length(jukebox_data));
        end;
      end
      else if chunk.tile_entities[z].Id='EnchantTable' then
      begin
        //net dopolnitel'nih poley
      end
      else if chunk.tile_entities[z].Id='Cauldron' then
      begin
        //perenosim pole BrewTime
        move(brew_stand_data[0],temp_mas_te[k],length(brew_stand_data));
        //zapolnaem znachenie brewtime
        temp_mas_te[k+12]:=pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.brew_time and $FF;
        temp_mas_te[k+11]:=(pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.brew_time shr 8) and $FF;
        inc(k,length(brew_stand_data));
        //perenosim Items
        move(items_list_data[0],temp_mas_te[k],length(items_list_data));
        temp_mas_te[k+12]:=length(pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items);
        if temp_mas_te[k+12]=0 then temp_mas_te[k+8]:=1;
        inc(k,13);
        for j:=0 to length(pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items)-1 do
        begin
          //perenosim item slot
          move(slot_data[0],temp_mas_te[k],length(slot_data));
          //zapolnaem slot data
          temp_mas_te[k+6]:=pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id and $FF;
          temp_mas_te[k+5]:=(pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].id shr 8) and $FF;
          temp_mas_te[k+17]:=pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage and $FF;
          temp_mas_te[k+16]:=(pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].damage shr 8) and $FF;
          temp_mas_te[k+26]:=pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].count;
          temp_mas_te[k+34]:=pcauldron_tile_entity_data(chunk.Tile_entities[z].data)^.items[j].slot;
          inc(k,36);
        end;
      end;
      inc(k,1);
    end;
  end;

  //perenosim masivi entity i tile_entity
  //entities

  //tile entities
  if len_te>0 then
  begin
    j:=length(rez^);
    k:=length(temp_mas_te);
    //izmenaem dlinnu obshego massiva
    setlength(rez^,j+k);
    //perenosim massiv schitaya indeks ot konca
    move(temp_mas_te[0],rez^[j],k);
    //izmenaem tip spiska i kol-vo elementov
    rez^[j-5]:=10;
    jj:=0;
    for k:=0 to length(chunk.Tile_entities)-1 do
      if chunk.Tile_entities[k].Id<>'Invalid tile entity' then inc(jj);
    rez^[j-1]:=jj;
  end;       

  j:=length(rez^);
  setlength(rez^,j+2);
  rez^[j]:=0;
  rez^[j+1]:=0;

  result:=0;
end;

var level_data:array[0..773]of byte = (
10,0,0,  //obshiy tag_compound  nachalo=0
10,0,4,68,97,116,97,  //tag_compound Data  nachalo=3
1,0,10,116,104,117,110,100,101,114,105,110,103,0,  //byte thundering  nachalo=10, data=23
4,0,10,76,97,115,116,80,108,97,121,101,100,0,0,0,0,0,0,0,0,  //Long LastPlayed  nachalo=24, data=37
4,0,10,82,97,110,100,111,109,83,101,101,100,0,0,0,0,0,0,0,0,  //Long RandomSeed  nachalo=45, data=58
3,0,8,71,97,109,101,84,121,112,101,0,0,0,0,   //int GameType  nachalo=66, data=77
1,0,11,77,97,112,70,101,97,116,117,114,101,115,0,  //byte MapFeatures  nachalo=81, data=95
3,0,7,118,101,114,115,105,111,110,0,0,74,189,  //int version=19133  nachalo=96, data=106
4,0,4,84,105,109,101,0,0,0,0,0,0,0,0,  //long Time  nachalo=110, data=117
1,0,7,114,97,105,110,105,110,103,0,  //byte raining  nachalo=125, data=135
3,0,11,116,104,117,110,100,101,114,84,105,109,101,0,0,152,158,  //int thundertime  nachalo=136, data=150
3,0,6,83,112,97,119,110,88,0,0,0,0,  //int spawnX  nachalo=154, data=163
1,0,8,104,97,114,100,99,111,114,101,0,  //byte hardcore  nachalo=167, data=178
3,0,6,83,112,97,119,110,89,0,0,0,64, //int spawnY  nachalo=179, data=188
3,0,6,83,112,97,119,110,90,0,0,0,0,  //int spawnZ  nachalo=192, data=201
4,0,10,83,105,122,101,79,110,68,105,115,107,0,0,0,0,0,0,0,0,  //long sizeondisk  nachalo=205, data=218
3,0,8,114,97,105,110,84,105,109,101,0,0,237,52,   //int raintime  nachalo=226, data=237
3,0,16,103,101,110,101,114,97,116,111,114,86,101,114,115,105,111,110,0,0,0,1,  //int generatorversion  nachalo=241, data=260

10,0,6,80,108,97,121,101,114,   //tag_compound Player  nachalo=264
2,0,10,83,108,101,101,112,84,105,109,101,114,0,0,  //short sleeptimer  nachalo=273, data=286

9,0,6,77,111,116,105,111,110,6,0,0,0,3,  //list Motion  nachalo=288, count_data=298
0,0,0,0,0,0,0,0,  //data=302
0,0,0,0,0,0,0,0,  //data=310
0,0,0,0,0,0,0,0,  //data=318

1,0,8,79,110,71,114,111,117,110,100,1,  //byte onground  nachalo=326, data=337
2,0,8,72,117,114,116,84,105,109,101,0,0,  //short hurttime  nachalo=338, data=349
5,0,19,102,111,111,100,69,120,104,97,117,115,116,105,111,110,76,101,118,101,108,0,0,0,0,  //float foodExhaustionLevel  nachalo=351, data=373
3,0,13,102,111,111,100,84,105,99,107,84,105,109,101,114,0,0,0,19,  //int foodTickTimer  nachalo=377, data=393
3,0,7,88,112,76,101,118,101,108,0,0,0,0,  //int XPlevel  nachalo=397, data=407
2,0,6,72,101,97,108,116,104,0,20,  //short health  nachalo=411, data=420
3,0,9,68,105,109,101,110,115,105,111,110,0,0,0,0,  //int dimension  nachalo=422, data=434
2,0,3,65,105,114,1,44,  //short air  nachalo=438, data=444

9,0,3,80,111,115,6,0,0,0,3,  //list Pos  nachalo=446, count_data=453
0,0,0,0,0,0,0,0,   //data=457
64,84,39,174,20,128,0,0,    //data=465
0,0,0,0,0,0,0,0,  //data=473

5,0,19,102,111,111,100,83,97,116,117,114,97,116,105,111,110,76,101,118,101,108,0,0,0,0,  //float foodSaturationLevel  nachalo=481, data=503
2,0,10,65,116,116,97,99,107,84,105,109,101,0,0,  //short attacktime  nachalo=507, data=520

10,0,9,97,98,105,108,105,116,105,101,115,  //Compound abilities  nachalo=522
1,0,6,102,108,121,105,110,103,0,  //byte flying  nachalo=534, data=543
1,0,10,105,110,115,116,97,98,117,105,108,100,0,  //byte instabuild  nachalo=544, data=557
1,0,6,109,97,121,102,108,121,0,  //byte mayfly  nachalo=558, data=567
1,0,12,105,110,118,117,108,110,101,114,97,98,108,101,0,  //byte invulnerable  nachalo=568, data=583
0,  //zakrivanie compounda abilities   nachalo=584

1,0,8,83,108,101,101,112,105,110,103,0,  //bite sleeping  nachalo=585, data=596
2,0,4,70,105,114,101,255,236,  //short fire  nachalo=597, data=604
3,0,9,102,111,111,100,76,101,118,101,108,0,0,0,20,   //int foodlevel  nachalo=606, data=618
5,0,12,70,97,108,108,68,105,115,116,97,110,99,101,0,0,0,0,  //float falldistance  nachalo=622, data=637
3,0,7,88,112,84,111,116,97,108,0,0,0,0,  //int xptotal nachalo=641, data=651

9,0,8,82,111,116,97,116,105,111,110,5,0,0,0,2,  //list rotation  nachalo=655, count_data=667
0,0,0,0,  //data=671
0,0,0,0,  //data=675

3,0,5,83,99,111,114,101,0,0,0,0,   //int score  nachalo=679, data=687
2,0,9,68,101,97,116,104,84,105,109,101,0,0,  //short deathtime  nachalo=691, data=703
5,0,3,88,112,80,0,0,0,0,  //float XpP  nachalo=705, data=711

9,0,9,73,110,118,101,110,116,111,114,121,1,0,0,0,0,  //list inventory  nachalo=715, count_data=728
0,  //zakrivvanie compounda Player nachalo=732

8,0,13,103,101,110,101,114,97,116,111,114,78,97,109,101,0,7,77,67,84,101,114,114,97,  //string generatorName=MCTerra  nachalo=733, count_data=749, data=751
8,0,9,76,101,118,101,108,78,97,109,101,0,0,  //string LevelName  nachalo=758, count_data=770
0,   //zakrivanie compounda data  nachalo=772
0    //zakrivanie compounda obshego  nachalo=773
);

function nbtcompress_level(sett:TGen_settings; rez:pbyte_ar):integer;
var i,j:integer;
ba:array[0..7]of byte;
dbl:double;
pdbl:^double;
str:string;
utime:int64;
wtime,wtime2:TDateTime;
begin
  result:=-1;

  i:=774+length(sett.Name);
  setlength(rez^,i);

  //perenosim dannie
  move(level_data[0],rez^[0],774);

  pdbl:=@ba[0];
  //perenosim poziciyu
  for j:=0 to 2 do
    sett.Player.Pos[j]:=sett.spawn_pos[j];
  dbl:=sett.player.pos[0]+0.5;
  pdbl^:=dbl;
  for j:=7 downto 0 do
    rez^[456+8-j]:=ba[j];
  dbl:=sett.player.pos[1]+0.63;
  pdbl^:=dbl;
  for j:=7 downto 0 do
    rez^[464+8-j]:=ba[j];
  dbl:=sett.player.pos[2]+0.5;
  pdbl^:=dbl;
  for j:=7 downto 0 do
    rez^[472+8-j]:=ba[j];

  //perenosim thundering
  if sett.Thundering then rez^[23]:=1;

  //vstavlaem LastPlayed
  wtime2:=date+gettime;
  wtime:=25569.125;
  utime:=MilliSecondsBetween(wtime,wtime2);
  rez^[44]:=utime and $FF;
  rez^[43]:=(utime shr 8) and $FF;
  rez^[42]:=(utime shr 16) and $FF;
  rez^[41]:=(utime shr 24) and $FF;
  rez^[40]:=(utime shr 32) and $FF;
  rez^[39]:=(utime shr 40) and $FF;
  rez^[38]:=(utime shr 48) and $FF;
  rez^[37]:=(utime shr 56) and $FF;

  //perenosim RandomSid
  rez^[65]:=sett.SID and $FF;
  rez^[64]:=(sett.SID shr 8) and $FF;
  rez^[63]:=(sett.SID shr 16) and $FF;
  rez^[62]:=(sett.SID shr 24) and $FF;
  rez^[61]:=(sett.SID shr 32) and $FF;
  rez^[60]:=(sett.SID shr 40) and $FF;
  rez^[59]:=(sett.SID shr 48) and $FF;
  rez^[58]:=(sett.SID shr 56) and $FF;

  //perenosim gametype i hardcore
  case sett.Game_type of
  1:rez^[80]:=1;
  2:rez^[178]:=1;
  end;

  //perenosim mapfeatures
  if sett.Generate_structures then rez^[95]:=1;

  //perenosim time
  rez^[124]:=sett.Game_time and $FF;
  rez^[123]:=(sett.Game_time shr 8) and $FF;
  rez^[122]:=(sett.Game_time shr 16) and $FF;
  rez^[121]:=(sett.Game_time shr 24) and $FF;

  //perenosim raining
  if sett.Raining then rez^[135]:=1;

  //perenosim thundertime
  rez^[153]:=sett.Thunder_time and $FF;
  rez^[152]:=(sett.Thunder_time shr 8) and $FF;
  rez^[151]:=(sett.Thunder_time shr 16) and $FF;
  rez^[150]:=(sett.Thunder_time shr 24) and $FF;

  //perenosim spawnx
  rez^[166]:=sett.spawn_pos[0] and $FF;
  rez^[165]:=(sett.spawn_pos[0] shr 8) and $FF;
  rez^[164]:=(sett.spawn_pos[0] shr 16) and $FF;
  rez^[163]:=(sett.spawn_pos[0] shr 24) and $FF;

  //perenosim spawny
  rez^[191]:=sett.spawn_pos[1] and $FF;
  rez^[190]:=(sett.spawn_pos[1] shr 8) and $FF;
  rez^[189]:=(sett.spawn_pos[1] shr 16) and $FF;
  rez^[188]:=(sett.spawn_pos[1] shr 24) and $FF;

  //perenosim spawnz
  rez^[204]:=sett.spawn_pos[2] and $FF;
  rez^[203]:=(sett.spawn_pos[2] shr 8) and $FF;
  rez^[202]:=(sett.spawn_pos[2] shr 16) and $FF;
  rez^[201]:=(sett.spawn_pos[2] shr 24) and $FF;

  //perenosim sizeondisk
  rez^[225]:=sett.Files_size and $FF;
  rez^[224]:=(sett.Files_size shr 8) and $FF;
  rez^[223]:=(sett.Files_size shr 16) and $FF;
  rez^[222]:=(sett.Files_size shr 24) and $FF;
  rez^[221]:=(sett.Files_size shr 32) and $FF;
  rez^[220]:=(sett.Files_size shr 40) and $FF;
  rez^[219]:=(sett.Files_size shr 48) and $FF;
  rez^[218]:=(sett.Files_size shr 56) and $FF;

  //perenosim raintime
  rez^[240]:=sett.Rain_time and $FF;
  rez^[239]:=(sett.Rain_time shr 8) and $FF;
  rez^[238]:=(sett.Rain_time shr 16) and $FF;
  rez^[237]:=(sett.Rain_time shr 24) and $FF;

  str:=strpas(sett.Name);
  rez^[771]:=length(str);
  for j:=772 to 772+length(str) do
    rez^[j]:=ord(str[j-771]);

  rez^[i-1]:=0;
  rez^[i-2]:=0;

  result:=0;
end;

end.
